<!-- 
    企业管理>员工管理>新增员工页面 
-->
<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>新增员工</title>
    <link href="../css/bootstrap.css" rel="stylesheet">
    <link href="../font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../css/company_management.css" rel="stylesheet">
</head>
<body>
    <div class="page-container">
        <!-- 子页面一级标题 -->
        <p class="title-p font-size-20">
            <span><i class="fa fa-user-plus sys-color" aria-hidden="true"></i> 新增员工</span>
            <a class="font-size-16 float-right" target="iframe" href="staff_management.html">返回 <i class="fa fa-angle-double-right" aria-hidden="true"></i></a>
        </p>
        <!-- 子页面主div -->
        <div>
            <form class="form-horizontal" action="">
                <!-- 基本信息块 -->
                <div class="border-top">
                    <p class="sub-title-p font-size-16"><i class="fa fa-address-card-o sys-color" aria-hidden="true"></i> 基本信息</p>
                    <div class="info-box row">
                        <div class="info-col col-xs-6 col-md-4 col-lg-4">
                            <div class="col-name">
                                <span for="" class="col">姓名：</span>
                                <span for="" class="col">手机号码：</span>
                                <span for="" class="col">分管床位：</span>
                                <span for="" class="col">证件类型：</span>
                            </div>
                            <div class="col-input">
                                <input type="text" class="form-control">
                                <input type="text" class="form-control">
                                <a href="#"class="single-line sys-color"><i class="fa fa-bed" aria-hidden="true"></i> 选择床位</a>
                                <select name="id_type" id="" class="form-control">
                                    <option value="1">二代身份证</option>
                                    <option value="2">港澳通行证</option>
                                    <option value="3">台湾通行证</option>
                                    <option value="4">护照</option>
                                </select>
                            </div>
                        </div>
                        <div class="info-col  col-xs-6 col-md-4 col-lg-4">
                            <div class="col-name">
                                <span for="" class="col">性别：</span>
                                <span for="" class="col">员工类型：</span>
                                <br/>
                                <span for="" class="col">证件号码：</span>
                            </div>
                            <div class="col-input">
                                <div>
                                    <input type="radio" name="gender" checked="true">男
                                    <i class="fa fa-mars" aria-hidden="true"></i>
                                    <input type="radio" name="gender">女
                                    <i class="fa fa-venus" aria-hidden="true"></i>
                                </div>
                                <select name="id_type" id="" class="form-control">
                                    <option value="1">一般管理员</option>
                                    <option value="2">普通护工</option>
                                    <option value="3">高级护工</option>
                                    <option value="4">超级管理员</option>
                                </select>
                                <br/>
                                <input type="text" class="form-control">
                            </div>
                        </div>
                        <div class="pic-col center col-xs-12 col-md-3 col-lg-3">
                            <div id="preview">
                                <img id="imghead" class="img-icon" border="0" src="../images/timg.jpg">
                            </div>
                            <input class="btn btn-default" type="button" value="上传照片" onclick="imgClick();">
                            <input type="file" onchange="previewImage(this)" style="display: none;" id="previewImg">
                        </div>
                        <div class="clear"></div>
                    </div>
                </div>
                <!-- 其他信息块 -->
                <div class="border-top">
                    <p class="sub-title-p font-size-16">
                        <i class="fa fa-th-large sys-color center" aria-hidden="true" style="width: 18px"></i> 其他信息
                    </p>
                    <div class="info-box row">
                        <div class="info-col col-xs-6 col-md-5 col-lg-4">
                            <div class="col-name">
                                <span for="" class="col">出生日期：</span>
                                <span for="" class="col">入职时间：</span>
                                <span for="" class="col">紧急联系人：</span>
                                <span for="" class="col">家庭住址：</span>
                            </div>
                            <div class="col-input">
                                <input type="date" class="form-control">
                                <input type="date" class="form-control">
                                <input type="text" class="form-control">
                                <input type="text" class="form-control">
                            </div>
                        </div>
                        <div class="info-col  col-xs-6 col-md-5 col-lg-4">
                            <div class="col-name">
                                <span for="" class="col">民族：</span>
                                <span for="" class="col">住宅电话：</span>
                                <span for="" class="col">紧急联系电话：</span>
                                <br/>
                            </div>
                            <div class="col-input">
                                <input type="text" class="form-control">
                                <input type="text" class="form-control">
                                <input type="text" class="form-control">
                                <br/>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="panel text-center">
                    <input type="button" class="btn btn-primary" value="保存">
                </div>
            </form>
        </div>
    </div>
    <!-- 全局js -->
    <script src="../js/jquery.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script>
        function imgClick(){
            $('#previewImg').click();
        }
        function previewImage(file)
        {
          var MAXWIDTH  = 200; 
          var MAXHEIGHT = 150;
          var div = document.getElementById('preview');
          if (file.files && file.files[0])
          {
              div.innerHTML ='<img id=imghead onclick=$("#previewImg").click()>';
              var img = document.getElementById('imghead');
              img.onload = function(){
                var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
                img.width  =  rect.width;
                img.height =  rect.height;
                // img.style.marginLeft = rect.left+'px';
                img.style.marginTop = rect.top+'px';
              }
              var reader = new FileReader();
              reader.onload = function(evt){img.src = evt.target.result;}
              reader.readAsDataURL(file.files[0]);
          }
          else //兼容IE
          {
            var sFilter='filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="';
            file.select();
            var src = document.selection.createRange().text;
            div.innerHTML = '<img id=imghead>';
            var img = document.getElementById('imghead');
            img.filters.item('DXImageTransform.Microsoft.AlphaImageLoader').src = src;
            var rect = clacImgZoomParam(MAXWIDTH, MAXHEIGHT, img.offsetWidth, img.offsetHeight);
            status =('rect:'+rect.top+','+rect.left+','+rect.width+','+rect.height);
            div.innerHTML = "<div id=divhead style='width:"+rect.width+"px;height:"+rect.height+"px;margin-top:"+rect.top+"px;"+sFilter+src+"\"'></div>";
          }
        }
        function clacImgZoomParam( maxWidth, maxHeight, width, height ){
            var param = {top:0, left:0, width:width, height:height};
            if( width>maxWidth || height>maxHeight ){
                rateWidth = width / maxWidth;
                rateHeight = height / maxHeight;
                
                if( rateWidth > rateHeight ){
                    param.width =  maxWidth;
                    param.height = Math.round(height / rateWidth);
                }else{
                    param.width = Math.round(width / rateHeight);
                    param.height = maxHeight;
                }
            }
            param.left = Math.round((maxWidth - param.width) / 2);
            param.top = Math.round((maxHeight - param.height) / 2);
            return param;
        }
    </script>
</body>
</html>
